remove("/home/tamas/femm-from-py/examples/electrostatic_data.csv")
newdocument(1)
file_out = openfile("/home/tamas/femm-from-py/examples/electrostatic_data.csv", "w")
ei_probdef("meters", "planar", 1e-08, 1, 30)
ei_addnode(-0.1, 0.005)
ei_addnode(-0.1, 0.01)
ei_addnode(0.1, 0.01)
ei_addnode(0.1, 0.005)
ei_addnode(-0.1, -0.005)
ei_addnode(-0.1, -0.01)
ei_addnode(0.1, -0.01)
ei_addnode(0.1, -0.005)
ei_addnode(0.0, 0.3)
ei_addnode(-0.3, 0.0)
ei_addnode(0.0, -0.3)
ei_addnode(0.3, 0.0)
ei_addsegment(-0.1, 0.005, -0.1, 0.01)
ei_addsegment(-0.1, 0.005, -0.1, 0.01)
ei_addsegment(-0.1, 0.01, 0.1, 0.01)
ei_addsegment(-0.1, 0.01, 0.1, 0.01)
ei_addsegment(0.1, 0.01, 0.1, 0.005)
ei_addsegment(0.1, 0.01, 0.1, 0.005)
ei_addsegment(0.1, 0.005, -0.1, 0.005)
ei_addsegment(0.1, 0.005, -0.1, 0.005)
ei_addsegment(-0.1, -0.005, -0.1, -0.01)
ei_addsegment(-0.1, -0.005, -0.1, -0.01)
ei_addsegment(-0.1, -0.01, 0.1, -0.01)
ei_addsegment(-0.1, -0.01, 0.1, -0.01)
ei_addsegment(0.1, -0.01, 0.1, -0.005)
ei_addsegment(0.1, -0.01, 0.1, -0.005)
ei_addsegment(0.1, -0.005, -0.1, -0.005)
ei_addsegment(0.1, -0.005, -0.1, -0.005)
ei_addsegment(-0.1, 0.005, -0.1, -0.005)
ei_addsegment(-0.1, 0.005, -0.1, -0.005)
ei_addsegment(0.1, -0.005, 0.1, 0.005)
ei_addsegment(0.1, -0.005, 0.1, 0.005)
ei_addarc(0.0, 0.3, -0.3, 0.0, 90.0, 1)
ei_addarc(0.0, 0.3, -0.3, 0.0, 90.0, 1)
ei_addarc(-0.3, 0.0, 0.0, -0.3, 90.0, 1)
ei_addarc(-0.3, 0.0, 0.0, -0.3, 90.0, 1)
ei_addarc(0.0, -0.3, 0.3, 0.0, 90.0, 1)
ei_addarc(0.0, -0.3, 0.3, 0.0, 90.0, 1)
ei_addarc(0.3, 0.0, 0.0, 0.3, 90.0, 1)
ei_addarc(0.3, 0.0, 0.0, 0.3, 90.0, 1)
ei_addmaterial("epoxy", 3.7, 3.7, 0.0)
ei_addmaterial("air", 1.0, 1.0, 0.0)
ei_addmaterial("metal", 1.0, 1.0, 0.0)
ei_addblocklabel(0.0, 0.0)
ei_selectlabel(0.0, 0.0)
ei_setblockprop("epoxy", 1, 0.0, 0)
ei_clearselected()
ei_addblocklabel(0.0, 0.2)
ei_selectlabel(0.0, 0.2)
ei_setblockprop("air", 1, 0.0, 0)
ei_clearselected()
ei_addblocklabel(0.0, 0.0075)
ei_selectlabel(0.0, 0.0075)
ei_setblockprop("metal", 1, 0.0, 0)
ei_clearselected()
ei_addblocklabel(0.0, -0.0075)
ei_selectlabel(0.0, -0.0075)
ei_setblockprop("metal", 1, 0.0, 0)
ei_clearselected()
ei_addboundprop("outline", 0, 0.0, 0, 0, 2)
ei_addboundprop("GND", 0.0, 0, 0, 0, 0)
ei_addboundprop("U0", 10.0, 0, 0, 0, 0)
ei_selectsegment(-0.1, 0.0075)
ei_setsegmentprop("U0", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(0.0, 0.01)
ei_setsegmentprop("U0", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(0.1, 0.0075)
ei_setsegmentprop("U0", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(0.0, 0.005)
ei_setsegmentprop("U0", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(-0.1, -0.0075)
ei_setsegmentprop("GND", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(0.0, -0.01)
ei_setsegmentprop("GND", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(0.1, -0.0075)
ei_setsegmentprop("GND", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(0.0, -0.005)
ei_setsegmentprop("GND", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(-0.212132, 0.212132)
ei_setsegmentprop("outline", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(-0.212132, -0.212132)
ei_setsegmentprop("outline", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(0.212132, -0.212132)
ei_setsegmentprop("outline", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_selectsegment(0.212132, 0.212132)
ei_setsegmentprop("outline", None, 0, 0, 0, "<None>")
ei_clearselected()
ei_saveas("/home/tamas/femm-from-py/examples/planar.fee")
ei_analyze(1)
ei_loadsolution()
eo_selectblock(0.0, 0.0)
Energy = eo_blockintegral(0)
eo_clearblock()
write(file_out, "electrostatic_data.csv, ", Energy, "\n")
